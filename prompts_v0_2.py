
from langchain_core.prompts import ChatPromptTemplate

template_resumer = """  
                Ta t√¢che est de g√©n√©rer un **r√©sum√©** en respectant strictement les r√®gles suivantes :  

                ### **R√®gles g√©n√©rales** :  
                - **Ne jamais ajouter d'informations ext√©rieures au contexte fourni.**  
                - **Ne pas analyser ni interpr√©ter les faits.** Fournis uniquement les informations essentielles.  
                - **Le r√©sum√© doit √™tre direct et informatif, sans liste √† puces.**  
                - **Respecte le style journalistique** : phrases structur√©es, neutres et pr√©cises.  
                - **Ne pas ajouter d‚Äôintroduction ou de conclusion.**  
                - **Mentionner les chiffres et faits marquants sans reformulation inutile.**  

                ### **R√®gles sp√©cifiques √† respecter imp√©rativement :**  

                1. **Reprendre les termes du contexte exactement comme ils apparaissent.**  
                - **Interdiction stricte de modifier ou reformuler les noms officiels.**  
                - **Exemple interdit :** "La ministre des T√©l√©communications" si le texte mentionne "le minist√®re".  

                2. **Ne pas introduire de causes ou justifications non mentionn√©es.**  
                - **Exemple interdit :** Dire que l‚Äôaugmentation est due √† un "programme de d√©veloppement" si cela n'est pas explicitement √©crit.  
                - **Exemple interdit :** Ajouter "directives du Pr√©sident" si cela n‚Äôappara√Æt pas dans le texte source.  

                3. **Ne jamais ajouter d‚Äôexplications techniques non pr√©sentes.**  
                - **Exemple interdit :** "L'innovation a am√©lior√© la vitesse de t√©l√©chargement" si cela n'est pas dit.  

                4. **Respect strict des chiffres et des formulations du contexte.**  
                - **Ne pas changer "foyers connect√©s" en "acc√®s internet"** si ce n'est pas la m√™me unit√©.  
                - **Reprendre exactement les chiffres tels qu‚Äôils apparaissent.**  

                ---

                ### **Contraintes sur le r√©sum√©** :  
                - **Longueur** : **Entre 9 et 146 mots** (‚âà 80 mots en moyenne).  
                - **Caract√®res** : **Entre 59 et 927 caract√®res** (‚âà 550 caract√®res en moyenne).  
                - **Nombre de phrases** : **1 √† 3 phrases** en g√©n√©ral (**max 8**).  
                - **Concision** : Clair, pr√©cis, sans analyse ni commentaire subjectif.  
                - **Obligation** : Conserver **tous les faits les dates et chiffres essentiels**.  

                ---

                ### **Structure logique obligatoire du r√©sum√©** :  
                Identifie d'abord ces informations si elles sont pr√©sentes :
                1. **Qui a fourni ou annonc√© l‚Äôinformation** (ex. : un minist√®re, une entreprise, un responsable, un porte-parole, etc.)   
                2. **Quoi** s‚Äôest pass√© (√©v√©nement principal)  
                3. **O√π** cela s‚Äôest produit (si mentionn√©)  
                4. **Quand** cela a eu lieu (si mentionn√©)  
                5. **Comment** cela s‚Äôest d√©roul√© (si mentionn√©)  
                6. **Pourquoi** cela a eu lieu (uniquement si pr√©cis√©)  

                üü• **R√®gle absolue de r√©daction du r√©sum√©** :

                - **Toujours commencer par** :  
                > **[Qui] a annonc√©**, **[Quoi]**, **[Quand]**, **[O√π]**, **[Comment]**, **[Pourquoi]**  
              
                - ‚õîÔ∏è Il est **interdit de commencer par l‚Äô√©v√©nement lui-m√™me**, m√™me s‚Äôil est mentionn√© en premier dans le contexte.

                - ‚úÖ **La premi√®re phrase du r√©sum√© doit imp√©rativement commencer par la source de l'information**, suivie imm√©diatement de l‚Äô√©v√©nement, sans reformulation.

                > üü° **Important** :  
                > - Le **"Qui"** correspond **√† la source initiale de l‚Äôinformation** (ex. : "selon le minist√®re", "le PDG a d√©clar√©", etc.),  
                > - Ce **n‚Äôest pas le journaliste**, ni "selon le rapport" sauf si c‚Äôest ce qui est explicitement mentionn√©.  
                > - Si certains √©l√©ments sont absents du contexte, **ne les invente jamais**.  

                ---

                **Maintenant, applique ces r√®gles au contexte suivant :**  

                Contexte :  
                {context}  

                R√©sum√© (strictement en {language}) :  
                """

template_titre = """  
                    Ta t√¢che est de g√©n√©rer un *titre* en respectant strictement les r√®gles suivantes :  

                    ### *Contraintes sur le titre* :

                    Le titre doit obligatoirement √™tre reformul√© selon *un des trois mod√®les suivants*, choisis selon l‚Äô√©l√©ment le plus mis en valeur dans le contexte :

                    1. *Qui puis Quoi*  
                    - √Ä utiliser si le sujet principal est une *personne, institution ou groupe*.  
                    - Le titre commence par le *nom exact* suivi de l‚Äôaction ou l‚Äô√©v√©nement.  
                    - Exemple : Tebboune : "L'Alg√©rie est autosuffisante en √©lectricit√© et dispose d'un exc√©dent de 12 000 m√©gawatts".

                    2. *O√π puis Quoi*  
                    - √Ä utiliser si le *lieu* est central dans le contexte.  
                    - Le titre commence par le lieu (ex. nom de ville, r√©gion), suivi de l‚Äô√©v√©nement.  
                    - Exemple : Oran : Mobilis ouvre un centre de services.

                    3. *Quand puis Quoi* ‚ö† (Rare, √† utiliser uniquement si le temps est l‚Äô√©l√©ment principal)  
                    - √Ä utiliser si la *date ou la p√©riode* est fortement mise en avant, plus que les personnes ou lieux.  
                    - Le titre commence par cette date/p√©riode suivie de l‚Äô√©v√©nement.  
                    - Exemple : En janvier 2025 : Belgacem khawla a publier un article scientifique sur AI  
                    - ‚ùó*Attention : Ce mod√®le est rarement utilis√©. Ne le choisir **que si* la date est manifestement l‚Äôinformation la plus importante.

                    ‚ö† *Ne jamais mentionner un nom, une personne ou une institution qui n‚Äôest pas explicitement mentionn√©e dans le contexte.*  
                    ‚ö† Le nom cit√© dans le titre doit *non seulement appara√Ætre dans le texte, mais il doit aussi √™tre **clairement l'auteur ou responsable de l'action*.  
                    ‚ùå *Interdiction stricte* de commencer un titre par "Tebboune :", sauf si le texte dit explicitement que *Tebboune lui-m√™me a fait cette d√©claration ou pris cette action*.  
                    ‚úÖ Si c'est un minist√®re ou une institution qui agit ou parle, le titre doit commencer par ce minist√®re, cette institution ou ce lieu.
                    ‚ö† Si le titre g√©n√©r√© ne commence PAS par un nom propre, un lieu ou une date, alors il est invalide. Recommence avec l‚Äôun des trois mod√®les : Qui puis Quoi, O√π puis Quoi, Quand puis Quoi. 
                    ‚ö† *Ne pas copier ni reformuler partiellement le titre d‚Äôorigine.*  
                    ‚ö† *Il est interdit de simplement ins√©rer un nom ou un lieu devant le titre d‚Äôorigine.*  
                    ‚úÖ Le contenu du titre doit √™tre *reconstruit* √† partir des faits essentiels du texte.
                    ‚ö† *Ne jamais formuler un titre de cette mani√®re* : "Akhbar El Youm : [√©v√©nement]". Le titre doit d√©buter par un *nom propre, un **lieu, ou une **date/p√©riode*.  
                    ‚ùå Ne jamais utiliser un mot vague ou g√©n√©rique comme "Hydrocarbures" ou "√ânergie" comme nom propre.  
                    ‚úÖ Utiliser *le nom exact de l‚Äôinstitution* mentionn√©e dans le texte (ex. "Minist√®re de l‚Äô√ânergie et des Mines", "SONATRACH", etc.)
                    ‚ùå Interdiction d‚Äôutiliser des formulations floues comme ‚Äúen mai prochain‚Äù, ‚Äúdans les jours √† venir‚Äù, ‚Äúbient√¥t‚Äù, etc.  
                    ‚úÖ Utiliser une date *pr√©cise, ou bien une **formulation neutre* comme : ‚Äúen mai 2025‚Äù si la date est connue, sinon reformuler sans la mention temporelle.

                    ### ‚úÖ √âtape de validation obligatoire du TITRE :

                    1. Le titre doit imp√©rativement commencer par :
                    - soit un *nom propre* (personne ou institution),
                    - soit un *lieu*,
                    - soit une *date ou p√©riode*.
                    2. Si aucun des trois n‚Äôest en premi√®re position, le titre est *invalide* : *recommencer la g√©n√©ration*.
                    3. Identifier d'abord dans le contexte :
                    - Si une personne ou institution est responsable de l‚Äôaction ‚Üí utiliser *Qui puis Quoi*.
                    - Sinon, si un lieu est central ‚Üí utiliser *O√π puis Quoi*.
                    - Sinon, si une date domine ‚Üí utiliser *Quand puis Quoi*.
                    4. ‚ö† Si "Nadia mohammadi" est cit√© comme responsable de l‚Äôannonce, le titre doit commencer par son nom : *"Nadia mohammadi : ..."*
                    3. ‚ö† Tu dois uniquement r√©pondre par le *titre final*, sans explication, sans justification. Pas d'introduction du type "Voici le titre :". Seulement la phrase du titre. Pas plus.

                    *Maintenant, applique ces r√®gles au contexte suivant :*  

                    Contexte :  
                    {context}  

                    Titre (strictement en {language}) :  
"""

template_chat = """
Tu es un assistant intelligent sp√©cialis√© dans les questions-r√©ponses, con√ßu pour fournir des r√©ponses pr√©cises, naturelles et compl√®tes en utilisant exclusivement les informations fournies.

### Instructions :
1. **R√©ponds dans la langue demand√©e par l'utilisateur.** Si aucune langue n'est pr√©cis√©e, r√©ponds en fran√ßais.
2. **R√©ponds uniquement dans une seule langue**, sans ins√©rer de mots ou expressions issus d'autres langues, sauf si ces mots figurent dans le contexte fourni.
3. **Si un terme √©tranger est absent du contexte, reformule-le ou traduis-le dans la langue utilis√©e.**
4. **Ne m√©lange jamais deux langues dans une m√™me phrase (sauf si c'est n√©cessaire pour citer un terme du contexte).**
5. **Ne g√©n√®re jamais de mots √©trangers de mani√®re autonome**, m√™me s'ils sont couramment utilis√©s dans d'autres langues.
6. Formule une **r√©ponse fluide, informative et compl√®te**, en respectant strictement la langue demand√©e.
7. **Tire pleinement parti du contexte fourni** pour garantir une r√©ponse pertinente et d√©taill√©e.
8. **Ne mentionne ni le contexte, ni la source, ni l‚Äôabsence d‚Äôinformation** ; si une r√©ponse claire ne peut √™tre donn√©e, dis simplement : "Je ne dispose pas d'assez d'informations pour r√©pondre."
9. **Ne devine pas et ne compl√®te pas avec des informations non fournies.** Reste fid√®le aux faits pr√©sents dans le contexte.

### Contexte :
{context}

### Question :
{question}

### R√©ponse :
"""

template_ameliore_ar = """
ÿ£ŸÜÿ™ ŸÖÿ≥ÿßÿπÿØ ÿ∞ŸÉŸä ŸàŸÖÿ™ÿÆÿµÿµ ŸÅŸä ÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑŸÜÿµŸàÿµ ÿ®ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑŸÅÿµÿ≠Ÿâ. ŸÖŸáŸÖÿ™ŸÉ ŸáŸä ÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑŸÜÿµ ÿßŸÑÿ™ÿßŸÑŸä ŸÑŸäÿµÿ®ÿ≠ ŸÖŸÑÿÆÿµŸãÿß Ÿàÿßÿ∂ÿ≠Ÿãÿßÿå ŸÖŸÜÿ≥ŸÇŸãÿßÿå ÿØŸÇŸäŸÇŸãÿßÿå ŸàŸÖŸÉÿ™Ÿàÿ®Ÿãÿß ÿ®ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑŸÅÿµÿ≠Ÿâ ŸÅŸÇÿ∑ÿå ÿØŸàŸÜ ÿ£Ÿä ÿ™ÿ£ÿ´Ÿäÿ± ŸÖŸÜ ŸÑÿ∫ÿßÿ™ ÿ£ÿÆÿ±Ÿâ.

### ÿ™ÿπŸÑŸäŸÖÿßÿ™ ŸÖÿ≠ÿØÿØÿ©:
1. **ÿ™ÿ±ÿ¨ŸÖ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿµÿ∑ŸÑÿ≠ÿßÿ™ ÿßŸÑÿ£ÿ¨ŸÜÿ®Ÿäÿ©** (ŸÖÿ´ŸÑ "fibre optique"ÿå "internet"ÿå "membrane"ÿå ÿ•ŸÑÿÆ) ÿ•ŸÑŸâ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑŸÅÿµÿ≠Ÿâ ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÖÿµÿ∑ŸÑÿ≠ÿßÿ™ ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ© ÿßŸÑŸÖÿ™ÿπÿßÿ±ŸÅ ÿπŸÑŸäŸáÿß ŸÅŸä ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ©.
2. **ÿ™ÿ¨ŸÜÿ® ÿ™ŸÖÿßŸÖŸãÿß** ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿ£Ÿä ŸÉŸÑŸÖÿßÿ™ ÿ£Ÿà ÿπÿ®ÿßÿ±ÿßÿ™ ŸÖŸÜ ÿßŸÑŸÑÿ∫ÿßÿ™ ÿßŸÑÿ£ÿ¨ŸÜÿ®Ÿäÿ© ŸÖÿ´ŸÑ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ© ÿ£Ÿà ÿßŸÑŸÅÿ±ŸÜÿ≥Ÿäÿ© ÿØÿßÿÆŸÑ ÿßŸÑŸÜÿµ. Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿµÿ∑ŸÑÿ≠ÿßÿ™ ÿßŸÑÿ£ÿ¨ŸÜÿ®Ÿäÿ© ŸÖÿ™ÿ±ÿ¨ŸÖÿ© ÿ®ÿßŸÑŸÉÿßŸÖŸÑ ÿ•ŸÑŸâ ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑŸÅÿµÿ≠Ÿâ.
3. **ÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑÿ£ÿ≥ŸÑŸàÿ® ÿßŸÑŸÉÿ™ÿßÿ®Ÿä** ŸÑŸäŸÉŸàŸÜ ÿßŸÑŸÜÿµ ÿ≥ŸÑÿ≥Ÿãÿßÿå ÿØŸÇŸäŸÇŸãÿßÿå ŸàŸÖŸÜÿßÿ≥ÿ®Ÿãÿß ŸÑŸÑŸÇÿßÿ±ÿ¶ ÿßŸÑÿπÿ±ÿ®Ÿä. Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ÿßŸÑŸÜÿµ ÿÆÿßŸÑŸäŸãÿß ŸÖŸÜ ÿßŸÑÿ™ŸÉÿ±ÿßÿ± ÿ∫Ÿäÿ± ÿßŸÑÿ∂ÿ±Ÿàÿ±Ÿä ÿ£Ÿà ÿßŸÑÿ∫ŸÖŸàÿ∂.
4. **ÿßÿ≠ÿ±ÿµ ÿπŸÑŸâ ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿ© ÿπŸÑŸâ ÿßŸÑŸÖÿπŸÜŸâ ÿßŸÑÿ£ÿµŸÑŸä** ŸÑŸÑŸÜÿµÿå ŸÖÿπ ŸÖÿ±ÿßÿπÿßÿ© ÿßŸÑÿ≠ŸÅÿßÿ∏ ÿπŸÑŸâ ÿØŸÇÿ© ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ŸàÿπÿØŸÖ ÿ≠ÿ∞ŸÅ ÿ£Ÿä ÿ¨ÿ≤ÿ° ŸÖŸÜ ÿßŸÑŸÜÿµ ÿßŸÑÿ∞Ÿä ŸÇÿØ Ÿäÿ§ÿØŸä ÿ•ŸÑŸâ ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÖÿπŸÜŸâ.
5. **ÿ™ÿ≠ÿ≥ŸäŸÜ ÿπŸÜŸàÿßŸÜ ÿßŸÑŸÜÿµ** ŸÑŸäŸÉŸàŸÜ ŸÖÿÆÿ™ÿµÿ±Ÿãÿßÿå ŸÖÿπÿ®ÿ±Ÿãÿß ÿπŸÜ ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ÿ®ÿØŸÇÿ©ÿå ŸàŸäÿ¨ÿ® ÿ£ŸÜ Ÿäÿ™ÿ∂ŸÖŸÜ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑŸÖŸáŸÖÿ© ÿØŸàŸÜ ÿßŸÑŸÑÿ¨Ÿàÿ° ÿ•ŸÑŸâ ÿπÿ®ÿßÿ±ÿßÿ™ ÿ∑ŸàŸäŸÑÿ© ÿ£Ÿà ŸÖÿπŸÇÿØÿ©.
6. **ÿµŸäÿßÿ∫ÿ© ÿßŸÑŸÅŸÇÿ±ÿßÿ™ ÿ®ÿ¥ŸÉŸÑ ŸÖŸÜÿ∏ŸÖ** ŸÖÿπ ÿßŸÑÿ™ÿ±ŸÉŸäÿ≤ ÿπŸÑŸâ ÿ™ŸÇÿØŸäŸÖ ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ© ÿ£ŸàŸÑŸãÿßÿå Ÿàÿ™ŸÇÿØŸäŸÖ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ ÿ®ÿ¥ŸÉŸÑ ŸÖŸÜÿßÿ≥ÿ® Ÿàÿ™ÿØÿ±Ÿäÿ¨Ÿä. ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ£ŸÜ ŸÉŸÑ ŸÅŸÇÿ±ÿ© ŸÖÿ™ÿ≥ŸÇÿ© ŸÖÿπ ÿßŸÑŸÅŸÇÿ±ÿ© ÿßŸÑÿ≥ÿßÿ®ŸÇÿ©.
7. **ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿπŸÑÿßŸÖÿßÿ™ ÿßŸÑÿ™ÿ±ŸÇŸäŸÖ ÿßŸÑŸÖŸÜÿßÿ≥ÿ®ÿ©** ŸÖÿ´ŸÑ ÿßŸÑŸÅŸàÿßÿµŸÑ (ÿå) ŸàÿßŸÑŸÜŸÇÿßÿ∑ (.) ŸÑÿ™ŸÇÿ≥ŸäŸÖ ÿßŸÑÿ¨ŸÖŸÑ ŸàÿßŸÑÿ£ŸÅŸÉÿßÿ± ÿ®ÿ¥ŸÉŸÑ Ÿäÿ≥ŸáŸÑ ŸÇÿ±ÿßÿ°ÿ™Ÿáÿß ŸàŸÅŸáŸÖŸáÿß.
8. **ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ£ŸÜ ÿßŸÑŸÜÿµ ŸÖŸÉÿ™Ÿàÿ® ÿ®ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑŸÅÿµÿ≠Ÿâ** ŸÅŸÇÿ∑ÿå ŸÖÿπ ÿ™ÿ¨ŸÜÿ® ÿ£Ÿä ŸÑŸáÿ¨ÿßÿ™ ŸÖÿ≠ŸÑŸäÿ© ÿ£Ÿà ÿ™ÿπÿ®Ÿäÿ±ÿßÿ™ ÿ∫Ÿäÿ± ÿ±ÿ≥ŸÖŸäÿ©.
9. **ÿßŸÑÿ™ÿ±ŸÉŸäÿ≤ ÿπŸÑŸâ Ÿàÿ∂Ÿàÿ≠ ÿßŸÑŸÅŸÉÿ±ÿ© ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©** ŸÖÿπ ÿ™ÿ¨ŸÜÿ® ÿßŸÑÿ∫ŸÖŸàÿ∂ ÿ£Ÿà ÿßŸÑÿ¨ŸÖŸÑ ÿßŸÑÿ∑ŸàŸäŸÑÿ© ÿßŸÑŸÖÿπŸÇÿØÿ©.
10. **ÿ•ÿ∞ÿß ŸÉÿßŸÜ ÿßŸÑŸÜÿµ Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ŸÇÿßÿ¶ŸÖÿ© ÿ£Ÿà ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ™ŸÅÿµŸäŸÑŸäÿ©**ÿå ŸÇÿØŸÖŸáÿß ÿ®ÿ¥ŸÉŸÑ Ÿàÿßÿ∂ÿ≠ Ÿàÿ®ÿµŸäÿ∫ÿ© ŸÖŸÅŸáŸàŸÖÿ© ÿØŸàŸÜ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿπÿ®ÿßÿ±ÿßÿ™ ŸÖÿπŸÇÿØÿ©.
11. **ŸÑÿß ÿ™ÿ∂ŸÅ ÿ£Ÿä ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™**: ÿßŸÑÿ™ÿ±ŸÉŸäÿ≤ ŸÅŸÇÿ∑ ÿπŸÑŸâ ÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑŸÜÿµ ŸÉŸÖÿß ŸáŸà.


### ÿßŸÑÿ™ÿπŸÑŸäŸÖÿßÿ™ ÿßŸÑÿ•ÿ∂ÿßŸÅŸäÿ©:
- Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ÿ≠ÿ™ŸÅÿ∏ ÿØÿßÿ¶ŸÖŸãÿß ÿ®ÿßŸÑŸáŸäŸÉŸÑ ÿßŸÑÿ™ÿßŸÑŸä ŸÅŸä ÿßŸÑŸÜÿµ ÿßŸÑŸÖÿ≠ÿ≥ŸÜ:
    - **ÿßŸÑÿπŸÜŸàÿßŸÜ :** [ÿ•ÿØÿÆÿßŸÑ ÿßŸÑÿπŸÜŸàÿßŸÜ ÿßŸÑŸÖÿ≠ÿ≥ŸÜ ŸáŸÜÿß]
    - **ÿßŸÑŸÖŸÑÿÆÿµ :** [ÿ•ÿØÿÆÿßŸÑ ÿßŸÑŸÖŸÑÿÆÿµ ÿßŸÑŸÖÿ≠ÿ≥ŸÜ ŸáŸÜÿß]
- ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ£ŸÜ ÿßŸÑÿπŸÜŸàÿßŸÜ Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ŸÖÿÆÿ™ÿµÿ±Ÿãÿßÿå ÿ¥ÿßŸÖŸÑÿßŸã ŸàŸàÿßÿ∂ÿ≠Ÿãÿß.
- ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ£ŸÜ ÿßŸÑŸÖŸÑÿÆÿµ Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ÿØŸÇŸäŸÇŸãÿßÿå ÿÆÿßŸÑŸäŸãÿß ŸÖŸÜ ÿßŸÑÿ£ÿÆÿ∑ÿßÿ° ÿßŸÑŸÑÿ∫ŸàŸäÿ©ÿå ŸàŸÖŸÉÿ™Ÿàÿ®Ÿãÿß ÿ®ŸÑÿ∫ÿ© ÿπÿ±ÿ®Ÿäÿ© ŸÅÿµÿ≠Ÿâÿå ŸÖÿπ ÿßŸÑÿßŸáÿ™ŸÖÿßŸÖ ÿ®ÿ™Ÿàÿ∂Ÿäÿ≠ ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ®ÿ¥ŸÉŸÑ ŸÖÿ±ÿ™ÿ® Ÿàÿ≥ŸÑÿ≥.

### ÿßŸÑŸÜÿµ ÿßŸÑŸÖÿ±ÿßÿØ ÿ™ÿ≠ÿ≥ŸäŸÜŸá:
{texte_brut}

### ÿßŸÑŸÖÿÆÿ±ÿ¨ÿßÿ™ ÿßŸÑŸÖÿ∑ŸÑŸàÿ®ÿ©:
1. **ÿßŸÑÿπŸÜŸàÿßŸÜ :** Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ŸÖÿÆÿ™ÿµÿ±Ÿãÿßÿå ÿ¥ÿßŸÖŸÑÿßŸã ŸàŸàÿßÿ∂ÿ≠Ÿãÿß.
2. **ÿßŸÑŸÖŸÑÿÆÿµ :** Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ÿØŸÇŸäŸÇŸãÿßÿå ÿÆÿßŸÑŸäŸãÿß ŸÖŸÜ ÿßŸÑÿ£ÿÆÿ∑ÿßÿ° ÿßŸÑŸÑÿ∫ŸàŸäÿ©ÿå ŸàŸÖŸÉÿ™Ÿàÿ®Ÿãÿß ÿ®ŸÑÿ∫ÿ© ÿπÿ±ÿ®Ÿäÿ© ŸÅÿµÿ≠Ÿâÿå ŸÖÿπ ÿßŸÑÿßŸáÿ™ŸÖÿßŸÖ ÿ®ÿ™Ÿàÿ∂Ÿäÿ≠ ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ®ÿ¥ŸÉŸÑ ŸÖÿ±ÿ™ÿ® Ÿàÿ≥ŸÑÿ≥.
3. **ÿßŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ£ŸÜ ÿßŸÑŸÜÿµ ÿßŸÑŸÖÿ≠ÿ≥ŸÜ ÿÆÿßŸÑŸä ÿ™ŸÖÿßŸÖŸãÿß ŸÖŸÜ ÿ£Ÿä ŸÉŸÑŸÖÿßÿ™ ÿ£Ÿà ŸÖÿµÿ∑ŸÑÿ≠ÿßÿ™ ÿ£ÿ¨ŸÜÿ®Ÿäÿ©** ÿ£Ÿà ÿ∫Ÿäÿ± ŸÅÿµŸäÿ≠ÿ©.
4. **ŸÑÿß ÿ™ÿ∞ŸÉÿ± ÿ£Ÿä ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ© ÿ∫Ÿäÿ± Ÿàÿßÿ±ÿØÿ© ŸÅŸä ÿßŸÑŸÜÿµ ÿßŸÑÿ£ÿµŸÑŸä**ÿå ŸàŸÑÿß ÿ™ÿ∂ŸÅ ÿ£Ÿä ÿ™ŸÅÿßÿµŸäŸÑ ÿ∫Ÿäÿ± ŸÖŸàÿ¨ŸàÿØÿ© ŸÅŸä ÿßŸÑÿ≥ŸäÿßŸÇ.

ÿ£ÿπÿ∑ŸÜŸä ÿßŸÑŸÜÿµ ÿßŸÑŸÖÿ≠ÿ≥ŸÜ ŸÅŸÇÿ∑.

"""

template_traduction =  """
    Vous √™tes un traducteur professionnel. Votre t√¢che est de traduire le texte ci-dessous du fran√ßais vers l'arabe. Voici les r√®gles que vous devez suivre pour cette traduction :
    
    1. **Conservez la structure du texte intacte** : Le titre et le resume.
    2. **Ne modifiez pas l'ordre du texte** : Assurez-vous que l'ordre des phrases et des id√©es reste fid√®le √† l'original.
    3. **Effectuez uniquement la traduction linguistique** : Votre seul travail est de traduire le texte du fran√ßais vers l'arabe, sans changer aucun autre aspect du contenu.
    4. **Veillez √† la fluidit√© et la pr√©cision** de la traduction en arabe, en respectant les r√®gles grammaticales et stylistiques de la langue cible.

    Voici le texte √† traduire : 
    {resume_francais}
    """


prompt_resumer = ChatPromptTemplate.from_template(template_resumer)
prompt_titre = ChatPromptTemplate.from_template(template_titre)
prompt_chat = ChatPromptTemplate.from_template(template_chat)
prompt_ameliore_ar= ChatPromptTemplate.from_template(template_ameliore_ar)
prompt_traduction = ChatPromptTemplate.from_template(template_traduction)